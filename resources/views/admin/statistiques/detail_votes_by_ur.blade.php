<h2 class="urTitle">
    Statistiques pour le vote "{{ $vote->nom }}"
</h2>
<div>
    <table class="tablesorter">
        <thead>
        <tr>
            <th>
                <div class="innerThead">
                    <div class="mr5">UR</div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-down" viewBox="0 0 16 16">
                        <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
                    </svg>
                </div>
            </th>
            <th class="header">
                <div class="innerThead">
                    <div class="mr5">Nb adhérents</div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-down" viewBox="0 0 16 16">
                        <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
                    </svg>
                </div>
            </th>
            <th class="header">
                <div class="innerThead">
                    <div class="mr5">Vote adhérents P1</div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-down" viewBox="0 0 16 16">
                        <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
                    </svg>
                </div>
            </th>
            <th class="header">
                <div class="innerThead">
                    <div class="mr5">% Vote P1</div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-down" viewBox="0 0 16 16">
                        <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
                    </svg>
                </div>
            </th>
            <th class="header">
                <div class="innerThead">
                    <div class="mr5">Nb clubs</div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-down" viewBox="0 0 16 16">
                        <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
                    </svg>
                </div>
            </th>
            <th class="header">
                <div class="innerThead">
                    <div class="mr5">Vote clubs</div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-down" viewBox="0 0 16 16">
                        <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
                    </svg>
                </div>
            </th>
            <th class="header">
                <div class="innerThead">
                    <div class="mr5">Vote adhérents P2</div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-down" viewBox="0 0 16 16">
                        <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
                    </svg>
                </div>
            </th>
            <th class="header">
                <div class="innerThead">
                    <div class="mr5">% Vote P2</div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-down" viewBox="0 0 16 16">
                        <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
                    </svg>
                </div>
            </th>
            <th class="header">
                <div class="innerThead">
                    <div class="mr5">Votes adhérents P3</div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-down" viewBox="0 0 16 16">
                        <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
                    </svg>
                </div>
            </th>
            <th class="header">
                <div class="innerThead">
                    <div class="mr5">%</div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sort-down" viewBox="0 0 16 16">
                        <path d="M3.5 2.5a.5.5 0 0 0-1 0v8.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L3.5 11.293zm3.5 1a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5M7.5 6a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1zm0 3a.5.5 0 0 0 0 1h1a.5.5 0 0 0 0-1z"/>
                    </svg>
                </div>
            </th>
        </tr>
        </thead>
        <tbody>
        @for($i = 1; $i < 25; $i++)
            <tr>
                <td>
                    @if($level == 'admin' || $i == $ur->id)
                        <a href="{{ route($level.'.statistiques_vote_detail', [$vote, $i]) }}" class="blue">
                            {{ str_pad($i, 2, '0', STR_PAD_LEFT) }}
                        </a>
                    @else
                        {{ str_pad($i, 2, '0', STR_PAD_LEFT) }}
                    @endif

                </td>
                <td class="text-center">{{ $details[$i]['nb_adherents'] }}</td>
                <td class="text-center">{{ $details[$i]['nb_adherents_phase1'] }}</td>
                <td class="text-center">{{ $details[$i]['pourcentage_voix_phase1'] }}%</td>
                <td class="text-center">{{ $details[$i]['nb_clubs'] }}</td>
                <td class="text-center">{{ $vote->phase > 1 ? $details[$i]['nb_clubs_phase2'] : '' }}</td>
                <td class="text-center">{{ $vote->phase > 1 ? $details[$i]['nb_adherents_phase2'] : '' }}</td>
                <td class="text-center">{{ $vote->phase > 1 ? $details[$i]['pourcentage_voix_phase2'] : '' }}%</td>
                <td class="text-center">{{ $vote->phase > 2 ? $details[$i]['nb_voix_phase3'] : '' }}</td>
                <td class="text-center">{{ $vote->phase > 2 ? $details[$i]['pourcentage_voix_phase3'] : '' }}%</td>
            </tr>
        @endfor
        <tfoot>
        <tr>
            <td>Total</td>
            <td class="text-center">{{ $details['total']['nb_adherents'] }}</td>
            <td class="text-center">{{ $details['total']['nb_adherents_phase1'] }}</td>
            <td class="text-center">{{ $details['total']['pourcentage_voix_phase1'] }}%</td>
            <td class="text-center">{{ $details['total']['nb_clubs'] }}</td>
            <td class="text-center">{{ $vote->phase > 1 ? $details['total']['nb_clubs_phase2'] : '' }}</td>
            <td class="text-center">{{ $vote->phase > 1 ? $details['total']['nb_adherents_phase2'] : '' }}</td>
            <td class="text-center">{{ $vote->phase > 1 ? $details['total']['pourcentage_voix_phase2'] : '' }}%</td>
            <td class="text-center">{{ $vote->phase > 2 ? $details['total']['nb_voix_phase3'] : '' }}</td>
            <td class="text-center">{{ $vote->phase > 2 ? $details['total']['pourcentage_voix_phase3'] : '' }}%</td>
        </tr>
        </tfoot>
        </tbody>
    </table>
    <div>
        <div><b>% vote P1</b> : ratio entre le nombre de votants en phase 1 et le nombre d'adhérents de l'UR</div>
        <div><b>% vote P2</b> : le pourcentage est la somme des adhérents ayant voté en phase 1 et 2 et des votes clubs par rapport au nombre total des adhérents et clubs de l'UR. Ne s'affiche qu'après le début de la phase 2.</div>
        <div><b>%</b> : le pourcentage est la somme des adhérents ayant voté durant les 3 phases et des votes clubs par rapport au nombre total des adhérents et clubs de l'UR. Ne s'affiche qu'après le début de la phase 3</div>
    </div>
</div>
@section('js')
    <script src="{{ asset('js/jquery.tablesorter.js') }}"></script>*
    <script>
        $(".tablesorter").tablesorter();
    </script>
@endsection
